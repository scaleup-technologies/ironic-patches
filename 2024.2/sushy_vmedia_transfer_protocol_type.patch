--- /var/lib/kolla/venv/lib/python3.11/site-packages/sushy/resources/manager/virtual_media.py	2025-07-23 14:06:57.925614838 +0000
+++ /var/lib/kolla/venv/lib/python3.11/site-packages/sushy/resources/manager/virtual_media.py	2025-07-23 14:09:50.738413189 +0000
@@ -197,7 +197,12 @@
                         payload['TransferProtocolType'] = "HTTPS"
                     elif payload['Image'].startswith('http://'):
                         payload['TransferProtocolType'] = "HTTP"
-
+                    elif payload['Image'].startswith('smb://'):
+                        payload['TransferProtocolType'] = "CIFS"
+                        # Workaround for required CIFS Authentication
+                        if username is None and password is None:
+                            payload['UserName'] = 'admin'
+                            payload['Password'] = 'password'
                     # NOTE (iurygregory) we try to handle the case where a
                     # a TransferMethod is also required in the payload.
                     try:
